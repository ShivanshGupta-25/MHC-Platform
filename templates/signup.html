{% extends 'components/base.html' %}
{% block title %}
Mental Wellness Platform - Sign Up
{% endblock title %}
{% block body %}
<div class="bg-gradient-to-r from-blue-100 to-purple-100 min-h-screen flex items-center justify-center px-4 sm:px-6">

    <div class="bg-white shadow-xl rounded-2xl w-full max-w-md sm:p-8 p-6">
        <h2 class="text-2xl sm:text-3xl font-bold text-center text-purple-700 mb-4 sm:mb-6">Create Your Account</h2>
        <p class="text-center text-gray-500 text-sm sm:text-base mb-6">Join us and start your journey towards better mental wellness</p>

        <form action="{{ url_for('signup.create') }}" method="POST" class="space-y-4 sm:space-y-5">
            <!-- Full Name -->
            <input type="csrf_token" name="csrf_token" value="{{ csrf_token() }}" hidden>
            <div>
                <label for="full_name" class="block text-gray-700 font-medium mb-2">Full Name</label>
                <input type="text" id="full_name" name="full_name" placeholder="Enter your full name"
                    class="w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-300 focus:border-purple-500">
            </div>

            <!-- Email -->
            <div>
                <label for="email" class="block text-gray-700 font-medium mb-2">Email</label>
                <input type="email" id="email" name="email" placeholder="Enter your email"
                    class="w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-300 focus:border-purple-500">
            </div>

            <!-- Password -->
            <div>
                <label for="password" class="block text-gray-700 font-medium mb-2">Password</label>
                <input type="password" id="password" name="password" placeholder="Enter your password"
                    class="w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-300 focus:border-purple-500">
            </div>

            <!-- Confirm Password -->
            <div>
                <label for="confirm_password" class="block text-gray-700 font-medium mb-2">Confirm Password</label>
                <input type="password" id="confirm_password" name="confirm_password" placeholder="Confirm your password"
                    class="w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-300 focus:border-purple-500">
            </div>

            <!-- message alert block only active when any alert -->
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="p-4 mb-4 text-sm text-{{ 'red' if category == 'error' else 'green' }}-700 bg-{{ 'red' if category == 'error' else 'green' }}-100 rounded-lg" role="alert">
                    {{ message }}
                  </div>
                {% endfor %}
              {% endif %}
            {% endwith %}

            <!-- Signup Button -->
            <button type="submit" class="w-full bg-purple-600 text-white py-3 rounded-xl hover:bg-purple-700 transition duration-300 font-semibold">
                Sign Up
            </button>
        </form>

        <!-- OR Guest Signup -->
        <div class="my-6 border-t border-gray-300"></div>

        <h3 class="text-center text-gray-700 font-medium mb-3 sm:mb-4">Continue as Guest</h3>
        <form action="/guest-login" method="POST" class="space-y-3 sm:space-y-4">
            <input type="text" name="guest_name" placeholder="Enter your guest name"
                class="w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-300 focus:border-purple-500">
            <button type="submit" class="w-full border border-purple-600 text-purple-600 py-3 rounded-xl hover:bg-purple-50 transition duration-300 font-semibold">
                Continue as Guest
            </button>
        </form>

        <p class="text-center text-gray-500 text-xs sm:text-sm mt-6">
            Already have an account? 
            <a href="/login" class="text-purple-600 hover:underline font-medium">Login</a>
        </p>
    </div>

</div>
{% endblock  %}